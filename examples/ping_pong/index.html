<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Socket.io</title>
  </head>
  <body>
    <h1>Ejemplo Socket.io</h1>

    <button id="ping">Enviar Ping</button>

    <script src="/socket.io/socket.io.js" charset="utf-8"></script>
    <script>
      window.onload = function () {
        var socket = io.connect('http://127.0.0.1:3000');
        var ping = document.getElementById('ping');

        socket.on('ping', function (data) {
          console.log('reciviendo Ping. enviando Pong');
          socket.emit('pong', {text: 'Pong'});
        });
        socket.on('pong', function (data) {
          console.log('Pong Recivido');
        });

        ping.addEventListener('click', function () {
          console.log('Enviando ping.');
          socket.emit('ping', {text: 'Ping'});
        });
      }
    </script>
  </body>
</html>
